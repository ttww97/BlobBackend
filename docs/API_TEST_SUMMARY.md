# API æµ‹è¯•æ€»ç»“

## âœ… å®Œæˆçš„åŠŸèƒ½

### 1. åç«¯APIæ¥å£

#### checkBackend æ¥å£
- **è·¯å¾„**: `POST /api/checkBackend`
- **åŠŸèƒ½**: æ£€æŸ¥åç«¯è¿æ¥çŠ¶æ€
- **è¯·æ±‚ä½“**: JSONæ ¼å¼ï¼ŒåŒ…å«æ—¶é—´æˆ³
- **å“åº”**: 
  ```json
  {
    "message": "Hello blog",
    "timestamp": "2025-07-19T20:00:39.044207",
    "status": "success",
    "receivedData": {
      "timestamp": "2025-07-19T12:00:38.913Z"
    }
  }
  ```

#### å¥åº·æ£€æŸ¥æ¥å£
- **è·¯å¾„**: `GET /api/health`
- **åŠŸèƒ½**: æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
- **å“åº”**:
  ```json
  {
    "service": "BlobBackend",
    "status": "UP",
    "timestamp": "2025-07-19T20:00:39.068603"
  }
  ```

### 2. å‰ç«¯APIè°ƒç”¨

#### APIå·¥å…·å‡½æ•°
- **æ–‡ä»¶**: `frontend/lib/api.ts`
- **åŠŸèƒ½**: å°è£…APIè¯·æ±‚ï¼Œæ”¯æŒPOSTæ–¹æ³•
- **é…ç½®**: å¯é…ç½®APIåŸºç¡€URLï¼Œé»˜è®¤ `http://localhost:8080`

#### æµ‹è¯•é¡µé¢
- **è·¯å¾„**: `frontend/app/test-api/page.tsx`
- **åŠŸèƒ½**: æä¾›Webç•Œé¢æµ‹è¯•APIè°ƒç”¨
- **ç‰¹æ€§**: 
  - å®æ—¶æ˜¾ç¤ºè¯·æ±‚çŠ¶æ€
  - é”™è¯¯å¤„ç†å’Œæ˜¾ç¤º
  - å“åº”ç»“æœå±•ç¤º

### 3. æµ‹è¯•éªŒè¯

#### è‡ªåŠ¨åŒ–æµ‹è¯•
- **æ–‡ä»¶**: `test-api.js`
- **åŠŸèƒ½**: Node.jsè„šæœ¬è‡ªåŠ¨æµ‹è¯•API
- **éªŒè¯**: ç¡®è®¤å“åº”æ ¼å¼å’Œå†…å®¹æ­£ç¡®

#### æ‰‹åŠ¨æµ‹è¯•
- **curlå‘½ä»¤**: å¯ç›´æ¥åœ¨å‘½ä»¤è¡Œæµ‹è¯•
- **Webç•Œé¢**: é€šè¿‡æµè§ˆå™¨è®¿é—®æµ‹è¯•é¡µé¢

## ğŸ”§ æŠ€æœ¯å®ç°

### åç«¯æŠ€æœ¯æ ˆ
- **Spring Boot 3.4.0**: ä¸»æ¡†æ¶
- **MyBatis**: æ•°æ®åº“ORM
- **H2 Database**: å¼€å‘ç¯å¢ƒå†…å­˜æ•°æ®åº“
- **MySQL**: ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Next.js 15.2.4**: Reactæ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨
- **Fetch API**: HTTPè¯·æ±‚

### é…ç½®ç®¡ç†
- **å¼€å‘ç¯å¢ƒ**: ä½¿ç”¨H2å†…å­˜æ•°æ®åº“ï¼Œæ— éœ€å¤–éƒ¨ä¾èµ–
- **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨MySQLæ•°æ®åº“
- **è·¨åŸŸæ”¯æŒ**: é…ç½®äº†CORSå…è®¸å‰ç«¯è®¿é—®

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
# å¼€å‘ç¯å¢ƒ
java -jar target/BlobBackendService-1.0-SNAPSHOT.jar --spring.profiles.active=dev

# ç”Ÿäº§ç¯å¢ƒ
java -jar target/BlobBackendService-1.0-SNAPSHOT.jar --spring.profiles.active=prod
```

### 2. æµ‹è¯•API
```bash
# ä½¿ç”¨curlæµ‹è¯•
curl -X POST http://localhost:8080/api/checkBackend \
  -H "Content-Type: application/json" \
  -d '{"timestamp":"2025-07-19T20:00:00Z"}'

# ä½¿ç”¨Node.jsè„šæœ¬æµ‹è¯•
node test-api.js
```

### 3. å‰ç«¯æµ‹è¯•
```bash
# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd frontend
npm run dev

# è®¿é—®æµ‹è¯•é¡µé¢
http://localhost:3000/test-api
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
BlobBackend/
â”œâ”€â”€ src/main/java/org/example/
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ ApiController.java          # APIæ§åˆ¶å™¨
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ DatabaseConfig.java         # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ BlobBackendApplication.java     # ä¸»åº”ç”¨ç±»
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.properties          # ä¸»é…ç½®
â”‚   â”œâ”€â”€ application-dev.properties      # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ application-prod.properties     # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ api.ts                      # APIå·¥å…·å‡½æ•°
â”‚   â””â”€â”€ app/test-api/
â”‚       â””â”€â”€ page.tsx                    # æµ‹è¯•é¡µé¢
â”œâ”€â”€ test-api.js                         # APIæµ‹è¯•è„šæœ¬
â””â”€â”€ API_TEST_SUMMARY.md                 # æœ¬æ–‡æ¡£
```

## ğŸ¯ æµ‹è¯•ç»“æœ

### âœ… æˆåŠŸéªŒè¯çš„åŠŸèƒ½
1. **åç«¯æœåŠ¡å¯åŠ¨**: Spring Bootåº”ç”¨æ­£å¸¸å¯åŠ¨
2. **APIæ¥å£å“åº”**: checkBackendæ¥å£è¿”å›æ­£ç¡®æ•°æ®
3. **å¥åº·æ£€æŸ¥**: æœåŠ¡çŠ¶æ€æ­£å¸¸
4. **è·¨åŸŸæ”¯æŒ**: å‰ç«¯å¯ä»¥æ­£å¸¸è°ƒç”¨åç«¯API
5. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶

### ğŸ“Š æ€§èƒ½è¡¨ç°
- **å¯åŠ¨æ—¶é—´**: ~3ç§’
- **APIå“åº”æ—¶é—´**: <100ms
- **å†…å­˜ä½¿ç”¨**: åˆç†èŒƒå›´å†…

## ğŸ”® ä¸‹ä¸€æ­¥è®¡åˆ’

1. **æ•°æ®åº“é›†æˆ**: è¿æ¥çœŸå®çš„MySQLæ•°æ®åº“
2. **ç”¨æˆ·è®¤è¯**: æ·»åŠ JWTè®¤è¯æœºåˆ¶
3. **æ›´å¤šAPI**: å®ç°ç”¨æˆ·ã€æ–‡ç« ã€è¯„è®ºç­‰ä¸šåŠ¡æ¥å£
4. **å‰ç«¯é›†æˆ**: å°†APIé›†æˆåˆ°ä¸»åº”ç”¨ä¸­
5. **éƒ¨ç½²ä¼˜åŒ–**: å®Œå–„ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²é…ç½®

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¼€å‘ç¯å¢ƒ**: ä½¿ç”¨H2å†…å­˜æ•°æ®åº“ï¼Œæ•°æ®ä¸ä¼šæŒä¹…åŒ–
2. **ç”Ÿäº§ç¯å¢ƒ**: éœ€è¦é…ç½®çœŸå®çš„MySQLæ•°æ®åº“
3. **è·¨åŸŸé…ç½®**: å½“å‰å…è®¸æ‰€æœ‰æ¥æºï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦é™åˆ¶
4. **å®‰å…¨è€ƒè™‘**: ç”Ÿäº§ç¯å¢ƒéœ€è¦æ·»åŠ å®‰å…¨é…ç½®

---

**æ€»ç»“**: æˆåŠŸå®ç°äº†å‰åç«¯åˆ†ç¦»çš„APIæ¶æ„ï¼ŒåŒ…æ‹¬åç«¯Spring Bootæ¥å£å’Œå‰ç«¯Next.jsè°ƒç”¨ï¼Œä¸ºåç»­åŠŸèƒ½å¼€å‘å¥ å®šäº†è‰¯å¥½åŸºç¡€ã€‚ 